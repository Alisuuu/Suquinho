<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Catálogo Suquin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"> </head>
<body class="flex flex-col">
    <div class="container mx-auto px-4 pt-4 flex flex-col items-center flex-shrink-0 lg:max-w-screen-2xl">
        <div class="mb-4 w-full flex justify-center">
            <div class="rounded-full bg-purple-800 flex items-center p-1 w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-2xl">
                <button id="searchButton" class="flex items-center bg-purple-700 text-white py-2 px-4 rounded-full mr-2 flex-shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-1">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>
                    </svg>
                    <span class="font-medium">Buscar</span>
                </button>
                <input type="text" id="searchInput" class="search-input flex-1 placeholder-gray-400" placeholder="Buscar por filmes ou séries...">
            </div>
        </div>
        <nav class="mb-4 flex justify-around w-full max-w-md lg:max-w-3xl">
            <button id="btnExplore" class="category-button active">Explorar</button>
            <button id="btnMovies" class="category-button">Filmes</button>
            <button id="btnSeries" class="category-button">Séries</button>
        </nav>
        <h2 id="currentViewTitle" class="section-title text-center text-2xl mb-4 w-full lg:text-3xl">Últimos Lançamentos</h2>
        <div id="loader" class="loader hidden"></div>
    </div>
    <div class="relative w-full flex-grow">
        <button id="scrollLeftBtn" class="scroll-button left">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <div id="resultsGrid">
            <div class="item-card" onclick="openItemModal('idExemplo')">
                <img src="https://via.placeholder.com/300x450/111827/FFFFFF?text=Imagem+do+Filme" alt="Nome do Filme ou Série">
                <div class="item-card-text-overlay">
                    <h3>Nome do Filme ou Série Exemplo</h3>
                    <p>2023</p>
                </div>
            </div>
            <div class="item-card" onclick="openItemModal('idExemplo2')">
                <img src="https://via.placeholder.com/300x450/111827/FFFFFF?text=Outro+Filme" alt="Outro Filme">
                <div class="item-card-text-overlay">
                    <h3>Outro Título Longo de Filme ou Série</h3>
                    <p>2022</p>
                </div>
            </div>
            <div class="item-card" onclick="openItemModal('idExemplo3')">
                <img src="https://via.placeholder.com/300x450/111827/FFFFFF?text=Série+Popular" alt="Série Popular">
                <div class="item-card-text-overlay">
                    <h3>Série Popular com Muitas Temporadas</h3>
                    <p>2021-2024</p>
                </div>
            </div>
        </div>
        <button id="scrollRightBtn" class="scroll-button right">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
        </button>
    </div>
    <div id="itemModal" class="modal-base">
        <div class="modal-content-base">
            <span class="close-button" id="closeModalButton">×</span>
            <div id="modalBody" class="modal-body max-h-[80vh] overflow-y-auto pr-3"></div>
        </div>
    </div>
    <div id="episodePlayerModal" class="modal-base">
        <div class="modal-content-base">
            <span class="close-button" id="closeEpisodeModalButton">×</span>
            <div id="episodeModalBody" class="max-h-[80vh] overflow-y-auto">
                <h3 id="episodePlayerTitle" class="text-center"></h3>
                <div id="EpisodeEmbedderIframeContainer" class="my-4"></div>
                <div class="text-center">
                    <button id="copyEpisodeLinkBtn" class="action-button" title="Copiar link do episódio">
                        Copiar Link do Episódio
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="toastMessage" class="toast-message hidden">Link copiado!</div>

    <script src="script1.js"></script>
    <script src="script2.js"></script>
    <script src="script3.js"></script>
    <script src="script4.js"></script>
    <script src="script5.js"></script>
    <script>
        // Função de exemplo para abrir o modal, usada nos exemplos de item-card
        function openItemModal(itemId) {
            console.log('Abrindo modal para o item:', itemId);
            // Aqui você adicionaria sua lógica real para abrir o modal
            document.getElementById('itemModal').style.display = 'flex';
        }

        // Function to display toast messages
        function showToast(message) {
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            toastMessage.classList.remove('hidden');
            setTimeout(() => {
                toastMessage.classList.add('hidden');
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const resultsGrid = document.getElementById('resultsGrid');
            const scrollLeftBtn = document.getElementById('scrollLeftBtn');
            const scrollRightBtn = document.getElementById('scrollRightBtn');

            // Exemplo de como fechar o modal
            document.getElementById('closeModalButton').addEventListener('click', () => {
                document.getElementById('itemModal').style.display = 'none';
            });
            document.getElementById('closeEpisodeModalButton').addEventListener('click', () => {
                document.getElementById('episodePlayerModal').style.display = 'none';
            });


            if (resultsGrid && scrollLeftBtn && scrollRightBtn) {
                // Event listeners for scroll buttons
                scrollLeftBtn.addEventListener('click', () => {
                    resultsGrid.scrollBy({ left: -resultsGrid.clientWidth, behavior: 'smooth' });
                });
                scrollRightBtn.addEventListener('click', () => {
                    resultsGrid.scrollBy({ left: resultsGrid.clientWidth, behavior: 'smooth' });
                });

                // Function to check scroll button visibility
                const checkScrollButtonsVisibility = () => {
                    // Buttons are only visible on screens smaller than 1024px
                    if (window.innerWidth < 1024) {
                        // Show left button if there's content to scroll left
                        scrollLeftBtn.style.display = resultsGrid.scrollLeft > 0 ? 'flex' : 'none';
                        // Show right button if there's more content to scroll right
                        scrollRightBtn.style.display = resultsGrid.scrollWidth > resultsGrid.clientWidth + resultsGrid.scrollLeft + 1 ? 'flex' : 'none';
                    } else {
                        // Hide buttons on larger screens
                        scrollLeftBtn.style.display = 'none';
                        scrollRightBtn.style.display = 'none';
                    }
                };

                // Add event listeners for scrolling and window resizing
                resultsGrid.addEventListener('scroll', checkScrollButtonsVisibility);
                window.addEventListener('resize', checkScrollButtonsVisibility);

                // Call the function once on load to set initial state
                checkScrollButtonsVisibility();
            }
        });
    </script>
</body>
</html>
