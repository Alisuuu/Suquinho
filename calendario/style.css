/* General Reset and Body Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Cores base do Material 3 para o tema claro (mantidas, mas o foco é no dark) */
  --md-sys-color-primary-light: #5e5e00;
  --md-sys-color-on-primary-light: #ffffff;
  --md-sys-color-primary-container-light: #e3e371;
  --md-sys-color-on-primary-container-light: #1b1c00;
  /* ... (outras variáveis light theme) ... */

  /* Cores para o tema escuro (dark theme) - AMOLED com lilás, blur e transparência */
  --md-sys-color-primary-dark: #bb86fc; /* Lilás vibrante para destaque */
  --md-sys-color-on-primary-dark: #ffffff;
  --md-sys-color-primary-container-dark: #7b4dd6;
  --md-sys-color-on-primary-container-dark: #ffffff;
  --md-sys-color-secondary-dark: #9c73ff;
  --md-sys-color-on-secondary-dark: #ffffff;
  --md-sys-color-secondary-container-dark: #5c3c9c;
  --md-sys-color-on-secondary-container-dark: #ffffff;
  --md-sys-color-tertiary-dark: #70d8c0;
  --md-sys-color-on-tertiary-dark: #00372f;
  --md-sys-color-tertiary-container-dark: #005045;
  --md-sys-color-on-tertiary-container-dark: #91f8e0;
  --md-sys-color-error-dark: #ffb4ab;
  --md-sys-color-error-container-dark: #93000a;
  --md-sys-color-on-error-dark: #690005;
  --md-sys-color-on-error-container-dark: #ffdad6;
  --md-sys-color-background-dark: #000000; /* PRETO PURO AMOLED */
  --md-sys-color-on-background-dark: #e6e2da;
  --md-sys-color-surface-dark: #000000; /* PRETO PURO AMOLED */
  --md-sys-color-on-surface-dark: #e6e2da;
  --md-sys-color-surface-variant-dark: #2c2c2c;
  --md-sys-color-on-surface-variant-dark: #cccccc;
  --md-sys-color-outline-dark: #4d4d4d;
  --md-sys-color-inverse-on-surface-dark: #000000;
  --md-sys-color-inverse-surface-dark: #e6e2da;
  --md-sys-color-inverse-primary-dark: #bb86fc;
  --md-sys-color-shadow-dark: #000000;
  --md-sys-color-surface-tint-dark: #bb86fc;
  --md-sys-color-outline-variant-dark: #2c2c2c;
  --md-sys-color-scrim-dark: #000000;

  /* Cores de container com ALTA TRANSPARÊNCIA e base escura para o blur */
  --md-sys-color-surface-container-lowest-dark: rgba(10, 10, 10, 0.4); /* Mais transparente */
  --md-sys-color-surface-container-low-dark: rgba(15, 15, 15, 0.5);
  --md-sys-color-surface-container-dark: rgba(20, 20, 20, 0.6);
  --md-sys-color-surface-container-high-dark: rgba(25, 25, 25, 0.7);
  --md-sys-color-surface-container-highest-dark: rgba(30, 30, 30, 0.8); /* Menos transparente */

  --md-sys-color-surface-bright-dark: #121212;
  --md-sys-color-surface-dim-dark: #000000;

  /* SUAS NOVAS VARIÁVEIS DE SOMBRA E GRADIENTE (incorporadas e adaptadas) */
  --amoled-black: #000000;
  --purple-accent: #bb86fc; /* Usando o lilás vibrante como acento */
  --purple-light: #9c73ff; /* Usando um lilás mais claro */
  --text-primary: #F3F4F6;
  --text-secondary: #9CA3AF;
  --card-bg: rgba(18, 18, 18, 0.7); /* Fundo do card com transparência */
  --border-color: #2c2c2c; /* Borda mais discreta */
  --border-highlight: #4d4d4d; /* Borda destaque mais discreta */
  --danger-red: #E53E3E;
  --danger-red-hover: #C53030;
  --success-green: #48BB78;
  --header-height-mobile: 5rem;

  /* Variáveis para gradientes e sombras expressivas - CORES MAIS SUTIS E ESCURAS */
  --expressive-gradient-light: linear-gradient(135deg, rgba(40, 20, 80, 0.1), rgba(80, 0, 120, 0.1)); /* Mais transparente */
  --expressive-gradient-dark: linear-gradient(160deg, rgba(10, 0, 20, 0.7), rgba(20, 0, 30, 0.7)); /* Mais transparente */
  --expressive-shadow: 0 8px 30px rgba(0, 0, 0, 0.6), 0 2px 10px rgba(0, 0, 0, 0.7); /* Sombras mais escuras */
  --subtle-shadow: 0 2px 8px rgba(0, 0, 0, 0.4), 0 0 10px rgba(0, 0, 0, 0.3); /* Sombras sutis e escuras */

  /* NOVAS VARIÁVEIS PARA TONS NEUTROS E ESCUROS NO MODAL */
  --modal-background-neutral-gradient: linear-gradient(160deg, rgba(5, 5, 5, 0.7), rgba(15, 15, 15, 0.7)); /* Mais transparente */
  --modal-border-neutral: rgba(255, 255, 255, 0.08); /* Borda um pouco mais visível */
  --modal-shadow-neutral-glow: 0 0 40px rgba(0, 0, 0, 0.8); /* Brilho escuro e neutro */
}

body {
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding-top: 100px; /* Mantém o espaço para o cabeçalho fixo */
  overflow-x: hidden; /* Previne scroll horizontal */
  /* Propriedades para desabilitar o zoom em alguns navegadores (redundante com a meta tag, mas boa prática) */
  touch-action: pan-x pan-y;
  -ms-content-zooming: none;
  overscroll-behavior: contain;
}

body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) {
     overflow: hidden !important;
}

/* Aplica o tema claro por padrão, se preferir */
body {
  --md-sys-color-primary: var(--md-sys-color-primary-light);
  --md-sys-color-on-primary: var(--md-sys-color-on-primary-light);
  /* ... (outras atribuições de tema claro) ... */
}

/* Dark Theme (AMOLED Preto e Lilás) */
@media (prefers-color-scheme: dark) {
  body {
    --md-sys-color-primary: var(--md-sys-color-primary-dark);
    --md-sys-color-on-primary: var(--md-sys-color-on-primary-dark);
    --md-sys-color-primary-container: var(--md-sys-color-primary-container-dark);
    --md-sys-color-on-primary-container: var(--md-sys-color-on-primary-container-dark);
    --md-sys-color-secondary: var(--md-sys-color-secondary-dark);
    --md-sys-color-on-secondary: var(--md-sys-color-on-secondary-dark);
    --md-sys-color-secondary-container: var(--md-sys-color-secondary-container-dark);
    --md-sys-color-on-secondary-container: var(--md-sys-color-on-secondary-container-dark);
    --md-sys-color-tertiary: var(--md-sys-color-tertiary-dark);
    --md-sys-color-on-tertiary: var(--md-sys-color-on-tertiary-dark);
    --md-sys-color-tertiary-container: var(--md-sys-color-tertiary-container-dark);
    --md-sys-color-on-tertiary-container: var(--md-sys-color-on-tertiary-container-dark);
    --md-sys-color-error: var(--md-sys-color-error-dark);
    --md-sys-color-error-container: var(--md-sys-color-error-container-dark);
    --md-sys-color-on-error: var(--md-sys-color-on-error-dark);
    --md-sys-color-on-error-container: var(--md-sys-color-on-error-container-dark);
    --md-sys-color-background: var(--md-sys-color-background-dark);
    --md-sys-color-on-background: var(--md-sys-color-on-background-dark);
    --md-sys-color-surface: var(--md-sys-color-surface-dark);
    --md-sys-color-on-surface: var(--md-sys-color-on-surface-dark);
    --md-sys-color-surface-variant: var(--md-sys-color-surface-variant-dark);
    --md-sys-color-on-surface-variant: var(--md-sys-color-on-surface-variant-dark);
    --md-sys-color-outline: var(--md-sys-color-outline-dark);
    --md-sys-color-inverse-on-surface: var(--md-sys-color-inverse-on-surface-dark);
    --md-sys-color-inverse-surface: var(--md-sys-color-inverse-surface-dark);
    --md-sys-color-inverse-primary: var(--md-sys-color-inverse-primary-dark);
    --md-sys-color-shadow: var(--md-sys-color-shadow-dark);
    --md-sys-color-surface-tint: var(--md-sys-color-surface-tint-dark);
    --md-sys-color-outline-variant: var(--md-sys-color-outline-variant-dark);
    --md-sys-color-scrim: var(--md-sys-color-scrim-dark);
    --md-sys-color-surface-container: var(--md-sys-color-surface-container-dark);
    --md-sys-color-surface-container-high: var(--md-sys-color-surface-container-high-dark);
    --md-sys-color-surface-container-highest: var(--md-sys-color-surface-container-highest-dark);
    --md-sys-color-surface-container-low: var(--md-sys-color-surface-container-low-dark);
    --md-sys-color-surface-container-lowest: var(--md-sys-color-surface-container-lowest-dark);
    --md-sys-color-surface-bright: var(--md-sys-color-surface-bright-dark);
    --md-sys-color-surface-dim: var(--md-sys-color-surface-dim-dark);
  }
}

/* Header (Barra de Busca e Botões de Filtro) */
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 900; /* Z-index alto para ficar acima do conteúdo */
  /* Usando gradiente e blur para o fundo do header */
  background: var(--expressive-gradient-light);
  backdrop-filter: blur(35px) saturate(2.0) brightness(1.2);
  -webkit-backdrop-filter: blur(35px) saturate(2.0) brightness(1.2);
  box-shadow: 0 4px 15px -3px rgba(0,0,0,0.8),
              0 0 30px rgba(130, 0, 255, 0.3); /* Sombra e brilho lilás */
  padding: 1rem;
}

/* Barra de Busca (Input) */
#search {
  background-color: var(--md-sys-color-surface-container-low-dark); /* Fundo com transparência */
  color: var(--text-primary); /* Cor do texto */
  border: 1px solid var(--md-sys-color-outline-dark); /* Borda sutil */
  box-shadow: var(--subtle-shadow); /* Sombra sutil */
  /* Outros estilos Tailwind já aplicados via classes no HTML */
}
#search::placeholder {
  color: var(--text-secondary); /* Cor do placeholder */
}
#search:focus {
  outline: none;
  border-color: var(--purple-accent);
  box-shadow: 0 0 0 3px rgba(187, 134, 252, 0.4), var(--subtle-shadow); /* Glow lilás + sombra sutil */
}

/* Botões em geral (Filtros, Semana, Mês) */
.btn-ripple {
  position: relative;
  overflow: hidden;
  transform: translate3d(0, 0, 0);
}
.btn-ripple:after {
  content: "";
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  background-image: radial-gradient(circle, #ffffff 10%, transparent 10.01%); /* Ripple mais claro */
  background-repeat: no-repeat;
  background-position: 50%;
  transform: scale(10, 10);
  opacity: 0;
  transition: transform .5s, opacity 1s;
}
.btn-ripple:active:after {
  transform: scale(0, 0);
  opacity: .3; /* Ripple mais visível */
  transition: 0s;
}
.button-blur {
  background: var(--expressive-gradient-light); /* Gradiente sutil e transparente */
  backdrop-filter: blur(25px) saturate(1.8); /* Blur forte, com saturação */
  -webkit-backdrop-filter: blur(25px) saturate(1.8);
  border: 1px solid var(--md-sys-color-outline-dark); /* Borda sutil */
  box-shadow: var(--subtle-shadow); /* Sombra sutil */
  color: var(--text-primary); /* Cor do texto */
}
.button-blur:hover {
  background: linear-gradient(135deg, rgba(187, 134, 252, 0.7), rgba(156, 115, 255, 0.7)); /* Gradiente lilás mais opaco no hover */
  border-color: var(--purple-accent);
  box-shadow: 0 6px 20px rgba(187, 134, 252, 0.4), var(--expressive-shadow); /* Sombra mais forte no hover */
}
.button-blur.active {
  background-color: var(--purple-accent); /* Lilás sólido para ativo */
  color: var(--md-sys-color-on-primary-dark);
  border-color: var(--purple-accent);
  box-shadow: 0 0 20px rgba(187, 134, 252, 0.8), var(--expressive-shadow); /* Brilho intenso + sombra expressiva */
}

/* Filter Modal (O Overlay) */
#filterModal {
  /* O Tailwind já aplica bg-black bg-opacity-75, que é um bom scrim.
     Podemos adicionar um backdrop-filter aqui para um blur no fundo do modal */
  backdrop-filter: blur(5px); /* Leve blur no scrim do modal */
  -webkit-backdrop-filter: blur(5px);
}

/* Conteúdo do Modal de Filtro */
.modal-content {
  background: var(--modal-background-neutral-gradient); /* Gradiente neutro escuro com transparência */
  backdrop-filter: blur(50px) saturate(2.5) brightness(1.2); /* EXTREMO BLUR para o modal, saturação e brilho */
  -webkit-backdrop-filter: blur(50px) saturate(2.5) brightness(1.2);
  border: 1px solid var(--modal-border-neutral); /* Borda um pouco mais visível */
  box-shadow: var(--modal-shadow-neutral-glow); /* Brilho escuro e neutro */
  color: var(--text-primary); /* Cor do texto dentro do modal */
}

/* Botão Fechar Modal (o "x") */
#closeModalBtn {
  color: var(--text-primary); /* Cor do "x" (branco claro) */
  font-size: 2.2em; /* Tamanho do ícone */
  font-weight: bold;
  background-color: rgba(255,255,255,0.08); /* Fundo sutilmente transparente */
  border-radius: 50%; /* Circular */
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  cursor: pointer;
  box-shadow: var(--subtle-shadow); /* Sombra sutil para o botão de fechar */
}
#closeModalBtn:hover {
  color: var(--purple-light); /* Lilás no hover */
  background-color: rgba(255,255,255,0.15); /* Fundo um pouco mais opaco no hover */
  transform: scale(1.1); /* Leve aumento no hover */
  box-shadow: 0 0 10px rgba(187, 134, 252, 0.3), var(--expressive-shadow); /* Brilho lilás + sombra expressiva */
}


/* Weekdays */
.weekdays {
  margin-top: 100px; /* Ajusta este valor para empurrar o conteúdo abaixo do header fixo */
  background: var(--expressive-gradient-light); /* Fundo com gradiente sutil e transparente */
  backdrop-filter: blur(20px) saturate(1.5); /* Blur nos dias da semana */
  -webkit-backdrop-filter: blur(20px) saturate(1.5);
  border: 1px solid var(--md-sys-color-outline-dark); /* Borda sutil */
  border-bottom: none; /* Remove borda inferior para conectar com o calendário */
  box-shadow: var(--subtle-shadow); /* Sombra sutil */
  color: var(--md-sys-color-on-surface); /* Cor do texto */
}

/* Calendar Grid */
#calendar {
  background-color: var(--md-sys-color-surface-container-lowest-dark); /* Fundo do calendário com mais transparência */
  backdrop-filter: blur(15px) saturate(1.3); /* Blur no calendário */
  -webkit-backdrop-filter: blur(15px) saturate(1.3);
  border: 1px solid var(--md-sys-color-outline-dark); /* Borda sutil */
  border-top: none; /* Remove borda superior para conectar com os dias da semana */
  box-shadow: var(--subtle-shadow); /* Sombra sutil */
}

/* General User Experience (no zoom, no text selection unless input) */
body, html {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

input, button, select, textarea {
  -webkit-user-select: auto;
}

/* Adaptações das suas outras regras CSS para o novo tema (mantidas do último update) */

.content-card {
    background-color: var(--card-bg); /* Usando a nova var de card-bg com transparência */
    border: 1px solid var(--border-color);
    box-shadow: var(--subtle-shadow); /* Sombra sutil para o card */
}
.content-card:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 12px 24px -6px rgba(187, 134, 252, 0.6), /* Mais brilho roxo do primary-dark */
                0 4px 15px rgba(0,0,0,0.5); /* Sombra base mais forte */
    border-color: var(--purple-light); /* Borda mais destacada no hover */
}
.content-card .title-overlay {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 20%, rgba(0, 0, 0, 0)); /* Mantido, escuro para legibilidade */
}

.swal2-popup { /* Certifica que o SweetAlert2 também segue o estilo */
    border-radius: 1.2rem !important;
    border: 1px solid var(--modal-border-neutral) !important;
    background: var(--modal-background-neutral-gradient); /* Usando o gradiente neutro */
    backdrop-filter: blur(50px) saturate(2.5) !important;
    -webkit-backdrop-filter: blur(50px) saturate(2.5) !important;
    box-shadow: 0 6px 20px -3px rgba(0,0,0,0.8),
                var(--modal-shadow-neutral-glow) !important;
}
.swal2-title { color: var(--purple-light) !important; }
/* As regras do .swal2-close foram movidas para #closeModalBtn para consistência */

.swal-genre-filter-type-selector button,
.swal-genre-buttons-panel button,
.swal-filter-actions button {
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: var(--expressive-gradient-light); /* Gradiente sutil e transparente */
    box-shadow: var(--subtle-shadow); /* Sombra sutil */
}
.swal-genre-filter-type-selector button:hover,
.swal-genre-buttons-panel button:hover,
.swal-filter-actions button:hover {
    background: linear-gradient(135deg, rgba(187, 134, 252, 0.7), rgba(156, 115, 255, 0.7)); /* Gradiente lilás mais opaco */
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 6px 20px rgba(187, 134, 252, 0.3), 0 2px 8px rgba(0,0,0,0.3); /* Sombra mais forte */
}

.swal-genre-filter-type-selector button.active,
.swal-genre-buttons-panel button.active {
    background: var(--purple-accent);
    color: var(--amoled-black);
    border-color: var(--purple-accent);
    box-shadow: 0 0 15px rgba(187, 134, 252, 0.7); /* Brilho mais intenso */
}
.swal-filter-actions .swal2-confirm {
    background-color: var(--purple-accent) !important;
    color: var(--amoled-black) !important;
    border: 1px solid var(--purple-accent) !important;
    box-shadow: 0 4px 15px rgba(187, 134, 252, 0.4) !important; /* Sombra lilás */
}
.swal-filter-actions .swal2-confirm:hover {
    background-color: var(--purple-light) !important;
    border-color: var(--purple-light) !important;
    box-shadow: 0 6px 20px rgba(187, 134, 252, 0.6) !important;
}

.swal-filter-actions .swal2-deny {
    background-color: var(--danger-red) !important;
    box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3) !important; /* Sombra vermelha */
}
.swal-filter-actions .swal2-deny:hover {
    background-color: var(--danger-red-hover) !important;
    box-shadow: 0 6px 20px rgba(229, 62, 62, 0.5) !important;
}
.swal-genre-buttons-panel {
    background-color: rgba(0,0,0,0.4); /* Fundo mais transparente */
}
.swal-genre-buttons-panel::-webkit-scrollbar-thumb { background-color: var(--purple-accent); }
.details-cast-scroller::-webkit-scrollbar-thumb { background-color: var(--purple-accent); }
.details-cast-scroller::-webkit-scrollbar-track { background: var(--border-color); }

.swal-details-content .details-poster {
    box-shadow: 0 4px 10px -1px rgba(0,0,0,0.5), 0 0 20px rgba(187, 134, 252, 0.5); /* Sombra + brilho lilás */
}
.swal-details-content .details-content-title { color: var(--purple-light); }
.swal-details-content .details-genres strong { color: var(--purple-light); }
.swal-details-content .details-section-subtitle { color: var(--purple-light); }
.cast-member-card { background-color: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); }
.cast-member-photo { border: 2px solid var(--purple-accent); background-color: rgba(0,0,0,0.3); } /* Fundo escuro transparente */
.details-iframe-container { box-shadow: 0 6px 20px rgba(0,0,0,0.7); } /* Sombra mais forte para o iframe */
.swal-details-popup .swal2-html-container::-webkit-scrollbar-track { background: var(--border-color); }
.swal-details-popup .swal2-html-container::-webkit-scrollbar-thumb { background-color: var(--purple-accent); }

/* External Copy Button */
#externalCopyLinkButton {
    background: linear-gradient(45deg, rgba(187, 134, 252, 0.4), rgba(156, 115, 255, 0.4)); /* Gradiente lilás transparente */
    box-shadow: 0 6px 15px rgba(0,0,0,0.5), /* Sombra padrão mais forte */
                0 0 20px rgba(187, 134, 252, 0.3); /* Brilho sutil lilás */
}
#externalCopyLinkButton:hover {
    background: linear-gradient(45deg, rgba(187, 134, 252, 0.6), rgba(156, 115, 255, 0.6)); /* Gradiente mais opaco no hover */
    transform: translateY(-4px) scale(1.08);
    box-shadow: 0 10px 25px rgba(187, 134, 252, 0.7), /* Sombra lilás mais pronunciada */
                0 0 30px rgba(187, 134, 252, 0.5); /* Brilho mais forte */
}
